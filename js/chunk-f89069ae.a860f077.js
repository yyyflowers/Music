(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-f89069ae"],{2711:function(t,e,a){},"6c64":function(t,e,a){"use strict";a("2711")},"80bd":function(t,e,a){"use strict";a.r(e);var r=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("div",{staticClass:"djDetail-head"},[a("img",{attrs:{src:t.data.picUrl,alt:""}}),a("div",[a("div",[t._v(t._s(t.data.name))]),a("p",[t._v("描述:"+t._s(t.data.desc))]),a("p",[t._v("创建时间:"+t._s(t._f("showDate")(t.data.createTime)))]),t._v(" 标签:"),a("span",[t._v(t._s(t.data.category)+","+t._s(t.data.secondCategory))]),a("div",{staticStyle:{"margin-top":"15px"}},[a("Button",{attrs:{type:"primary"},on:{click:function(e){t.modal1=!0}}},[a("Icon",{attrs:{type:"md-download",color:"#fff"}}),t._v("下载全部")],1)],1)])]),a("div",{staticClass:"djDetail-body"},[a("div",{staticClass:"body-head"},[t._v("播放列表")]),a("Table",{attrs:{columns:t.columns1,data:t.programs},on:{"on-row-click":t.rowClick},scopedSlots:t._u([{key:"action",fn:function(e){e.row;var r=e.index;return[t.editIndex===r?a("div",[a("Icon",{attrs:{type:"ios-pause"}})],1):a("Icon",{attrs:{type:"md-play"}})]}}])})],1),a("Affix",{style:{position:"absolute",bottom:"15px",left:0,width:"98%"},attrs:{"offset-bottom":20}},[t._v("> "),a("audio",{ref:"audio",on:{pause:t.pauseClick,play:t.playClick}})]),a("Modal",{attrs:{title:"登录"},model:{value:t.modal1,callback:function(e){t.modal1=e},expression:"modal1"}},[a("Form",{ref:"formInline",staticStyle:{"padding-right":"20px"},attrs:{model:t.formInline,rules:t.ruleInline,"label-width":50}},[a("FormItem",{attrs:{prop:"user"}},[a("Input",{attrs:{type:"text",placeholder:"请输入用户名"},model:{value:t.formInline.user,callback:function(e){t.$set(t.formInline,"user",e)},expression:"formInline.user"}},[a("Icon",{attrs:{slot:"prepend",type:"ios-person-outline"},slot:"prepend"})],1)],1),a("FormItem",{attrs:{prop:"password"}},[a("Input",{attrs:{type:"password",placeholder:"请输入密码"},model:{value:t.formInline.password,callback:function(e){t.$set(t.formInline,"password",e)},expression:"formInline.password"}},[a("Icon",{attrs:{slot:"prepend",type:"ios-lock-outline"},slot:"prepend"})],1)],1),a("FormItem",[a("Button",{attrs:{type:"primary"},on:{click:function(e){return t.handleSubmit("formInline")}}},[t._v("登录")])],1)],1)],1)],1)},n=[],o=a("db8d"),i={name:"djDetail",data:function(){return{data:{},editIndex:-1,programs:[],columns1:[{type:"index",width:60,align:"center"},{title:"封面",key:"coverUrl",render:function(t,e){return t("img",{attrs:{src:e.row.coverUrl},style:{width:"100px",height:"100px"}})}},{title:"标题",key:"name"},{title:"创建时间",key:"createTime",width:160,render:function(t,e){return t("div",new Date(e.row.createTime).toLocaleDateString())}},{title:"播放",slot:"action",width:150,align:"center"}],src:"",modal1:!1,formInline:{user:"",password:""},ruleInline:{user:[{required:!0,message:"请输入用户名",trigger:"blur"}],password:[{required:!0,message:"请输入密码",trigger:"blur"},{type:"string",min:6,message:"密码不能少于6位",trigger:"blur"}]}}},created:function(){var t=this;Object(o["j"])(this.$route.query.rid).then((function(e){200===e.data.code&&(t.data=e.data.data)})),Object(o["k"])(this.$route.query.rid).then((function(e){200===e.data.code&&(t.programs=e.data.programs)}))},filters:{showDate:function(t){var e=new Date(t);return e.getFullYear()+"-"+(e.getMonth()+1)+"-"+e.getDay()}},methods:{rowClick:function(t,e){var a=this;Object(o["r"])(t.id).then((function(t){200===t.data.code&&Object(o["v"])(t.data.program.mainTrackId).then((function(t){200===t.data.code&&(a.src=t.data.data[0].url,a.$refs.audio.src=a.src,a.$refs.audio.controls=!0,-1===a.editIndex?(a.editIndex=e,a.$refs.audio.play()):(a.editIndex=-1,a.$refs.audio.pause()))}))}))},pauseClick:function(){this.editIndex=-1},playClick:function(){this.editIndex=0},handleSubmit:function(t){var e=this;this.$refs[t].validate((function(t){t?e.$Message.success("登录成功"):e.$Message.error("登录失败")}))}}},s=i,d=(a("6c64"),a("2877")),l=Object(d["a"])(s,r,n,!1,null,"56c77c8a",null);e["default"]=l.exports}}]);
//# sourceMappingURL=chunk-f89069ae.a860f077.js.map