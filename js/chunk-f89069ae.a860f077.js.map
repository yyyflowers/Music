{"version":3,"sources":["webpack:///./src/views/djDetail/djDetail.vue?8b2b","webpack:///./src/views/djDetail/djDetail.vue?84b6","webpack:///src/views/djDetail/djDetail.vue","webpack:///./src/views/djDetail/djDetail.vue?3f29","webpack:///./src/views/djDetail/djDetail.vue"],"names":["render","_vm","this","_h","$createElement","_c","_self","staticClass","attrs","data","picUrl","_v","_s","name","desc","_f","createTime","category","secondCategory","staticStyle","on","$event","modal1","columns1","programs","rowClick","scopedSlots","_u","key","fn","ref","row","index","editIndex","style","position","bottom","left","width","pauseClick","playClick","model","value","callback","$$v","expression","formInline","ruleInline","$set","slot","handleSubmit","staticRenderFns","component"],"mappings":"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","file":"js/chunk-f89069ae.a860f077.js","sourcesContent":["export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./djDetail.vue?vue&type=style&index=0&id=56c77c8a&scoped=true&lang=css&\"","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',[_c('div',{staticClass:\"djDetail-head\"},[_c('img',{attrs:{\"src\":_vm.data.picUrl,\"alt\":\"\"}}),_c('div',[_c('div',[_vm._v(_vm._s(_vm.data.name))]),_c('p',[_vm._v(\"描述:\"+_vm._s(_vm.data.desc))]),_c('p',[_vm._v(\"创建时间:\"+_vm._s(_vm._f(\"showDate\")(_vm.data.createTime)))]),_vm._v(\" 标签:\"),_c('span',[_vm._v(_vm._s(_vm.data.category)+\",\"+_vm._s(_vm.data.secondCategory))]),_c('div',{staticStyle:{\"margin-top\":\"15px\"}},[_c('Button',{attrs:{\"type\":\"primary\"},on:{\"click\":function($event){_vm.modal1 = true}}},[_c('Icon',{attrs:{\"type\":\"md-download\",\"color\":\"#fff\"}}),_vm._v(\"下载全部\")],1)],1)])]),_c('div',{staticClass:\"djDetail-body\"},[_c('div',{staticClass:\"body-head\"},[_vm._v(\"播放列表\")]),_c('Table',{attrs:{\"columns\":_vm.columns1,\"data\":_vm.programs},on:{\"on-row-click\":_vm.rowClick},scopedSlots:_vm._u([{key:\"action\",fn:function(ref){\nvar row = ref.row;\nvar index = ref.index;\nreturn [(_vm.editIndex === index)?_c('div',[_c('Icon',{attrs:{\"type\":\"ios-pause\"}})],1):_c('Icon',{attrs:{\"type\":\"md-play\"}})]}}])})],1),_c('Affix',{style:({position: 'absolute', bottom: '15px',left: 0, width: '98%'}),attrs:{\"offset-bottom\":20}},[_vm._v(\"> \"),_c('audio',{ref:\"audio\",on:{\"pause\":_vm.pauseClick,\"play\":_vm.playClick}})]),_c('Modal',{attrs:{\"title\":\"登录\"},model:{value:(_vm.modal1),callback:function ($$v) {_vm.modal1=$$v},expression:\"modal1\"}},[_c('Form',{ref:\"formInline\",staticStyle:{\"padding-right\":\"20px\"},attrs:{\"model\":_vm.formInline,\"rules\":_vm.ruleInline,\"label-width\":50}},[_c('FormItem',{attrs:{\"prop\":\"user\"}},[_c('Input',{attrs:{\"type\":\"text\",\"placeholder\":\"请输入用户名\"},model:{value:(_vm.formInline.user),callback:function ($$v) {_vm.$set(_vm.formInline, \"user\", $$v)},expression:\"formInline.user\"}},[_c('Icon',{attrs:{\"slot\":\"prepend\",\"type\":\"ios-person-outline\"},slot:\"prepend\"})],1)],1),_c('FormItem',{attrs:{\"prop\":\"password\"}},[_c('Input',{attrs:{\"type\":\"password\",\"placeholder\":\"请输入密码\"},model:{value:(_vm.formInline.password),callback:function ($$v) {_vm.$set(_vm.formInline, \"password\", $$v)},expression:\"formInline.password\"}},[_c('Icon',{attrs:{\"slot\":\"prepend\",\"type\":\"ios-lock-outline\"},slot:\"prepend\"})],1)],1),_c('FormItem',[_c('Button',{attrs:{\"type\":\"primary\"},on:{\"click\":function($event){return _vm.handleSubmit('formInline')}}},[_vm._v(\"登录\")])],1)],1)],1)],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n  <div>\n    <div class=\"djDetail-head\">\n      <img :src=\"data.picUrl\" alt=\"\">\n      <div>\n        <div>{{data.name}}</div>\n        <p>描述:{{data.desc}}</p>\n        <p>创建时间:{{data.createTime | showDate}}</p>\n        标签:<span>{{data.category}},{{data.secondCategory}}</span>\n        <div  style=\"margin-top: 15px;\"><Button type=\"primary\" @click=\"modal1 = true\" ><Icon type=\"md-download\" color=\"#fff\"/>下载全部</Button></div>\n      </div>\n    </div>\n    <div class=\"djDetail-body\">\n      <div class=\"body-head\">播放列表</div>\n      <Table :columns=\"columns1\" :data=\"programs\" @on-row-click=\"rowClick\">\n        <template slot-scope=\"{ row, index }\" slot=\"action\">\n          <div v-if=\"editIndex === index\">\n            <Icon type=\"ios-pause\" />\n          </div>\n          <Icon type=\"md-play\" v-else />\n        </template>\n      </Table>\n    </div>\n    <Affix :offset-bottom=\"20\" :style=\"{position: 'absolute', bottom: '15px',left: 0, width: '98%'}\">>\n      <audio ref=\"audio\" @pause=\"pauseClick\" @play=\"playClick\"></audio>\n    </Affix>\n    <Modal\n            v-model=\"modal1\"\n            title=\"登录\">\n      <Form ref=\"formInline\" :model=\"formInline\" :rules=\"ruleInline\" :label-width=\"50\" style=\"padding-right: 20px\">\n        <FormItem prop=\"user\">\n          <Input type=\"text\" v-model=\"formInline.user\" placeholder=\"请输入用户名\">\n            <Icon type=\"ios-person-outline\" slot=\"prepend\"></Icon>\n          </Input>\n        </FormItem>\n        <FormItem prop=\"password\">\n          <Input type=\"password\" v-model=\"formInline.password\" placeholder=\"请输入密码\">\n            <Icon type=\"ios-lock-outline\" slot=\"prepend\"></Icon>\n          </Input>\n        </FormItem>\n        <FormItem>\n          <Button type=\"primary\" @click=\"handleSubmit('formInline')\">登录</Button>\n        </FormItem>\n      </Form>\n    </Modal>\n  </div>\n</template>\n\n<script>\n  import {getDjDetail, getDjProgram, getProgramDetail, getSongURL} from '@/network/toplist'\n  export default {\n    name: \"djDetail\",\n    data() {\n      return {\n        data: {},\n        editIndex: -1,\n        programs: [],\n        columns1: [\n          {\n            type: 'index',\n            width: 60,\n            align: 'center'\n          },\n          {\n            title: '封面',\n            key: 'coverUrl',\n            render:(h,params) => {\n              return h('img', {\n                attrs: {\n                  src: params.row.coverUrl\n                },\n                style: {\n                  width: '100px',\n                  height: '100px'\n                }\n              })\n            }\n          },\n          {\n            title: '标题',\n            key: 'name'\n          },\n          {\n            title: '创建时间',\n            key: 'createTime',\n            width: 160,\n            render: (h,params) => {\n              return h('div',\n                  new Date(params.row.createTime).toLocaleDateString()\n              )\n            }\n          },\n          {\n            title: '播放',\n            slot: 'action',\n            width: 150,\n            align: 'center'\n          }\n        ],\n        src: '',\n        modal1: false,\n        formInline: {\n          user: '',\n          password: ''\n        },\n        ruleInline: {\n          user: [\n            { required: true, message: '请输入用户名', trigger: 'blur' }\n          ],\n          password: [\n            { required: true, message: '请输入密码', trigger: 'blur' },\n            { type: 'string', min: 6, message: '密码不能少于6位', trigger: 'blur' }\n          ]\n        }\n      }\n    },\n    created() {\n      getDjDetail(this.$route.query.rid).then(res => {\n        if (res.data.code === 200) {\n          // console.log(res.data.data);\n          this.data = res.data.data\n        }\n      })\n      getDjProgram(this.$route.query.rid).then(res => {\n        if (res.data.code === 200) {\n          // console.log(res.data.programs);\n          this.programs = res.data.programs\n        }\n      })\n    },\n    filters: {\n      showDate(value) {\n        var date = new Date(value)\n        return date.getFullYear() + '-' + ( date.getMonth() + 1 ) + '-' + date.getDay()\n      }\n    },\n    methods: {\n      // 播放\n      // handlePlay(row,index) {\n      //   this.editIndex = index;\n      // },\n      // 暂停\n      // handlePause(row,index) {\n      //   this.editIndex = -1\n      // }\n      // 单击歌曲列表某一行\n      rowClick(e,index) {\n        // console.log(e)\n        getProgramDetail(e.id).then(res => {\n          if (res.data.code === 200){\n            // console.log(res.data.program.mainTrackId);\n            getSongURL(res.data.program.mainTrackId).then(res => {\n              if(res.data.code === 200) {\n                // console.log(res.data.data[0].url);\n                this.src = res.data.data[0].url\n                this.$refs.audio.src = this.src\n                this.$refs.audio.controls = true;\n                if (this.editIndex === -1) {\n                  // 播放\n                  this.editIndex = index;\n                  this.$refs.audio.play()\n                } else {\n                  // 暂停\n                  this.editIndex = -1\n                  this.$refs.audio.pause()\n                }\n              }\n            })\n          }\n        })\n      },\n      // 在控制栏上点击暂停\n      pauseClick() {\n        // console.log(-1);\n        this.editIndex = -1\n        // if (this.$refs.audio.paused) {\n        //   this.editIndex = -1\n        // } else {\n        //   this.editIndex = index;\n        // }\n      },\n      // 在控制栏上点击播放\n      playClick() {\n        // this.editIndex = index;\n        // console.log(0);\n        this.editIndex = 0;\n      },\n      handleSubmit(name) {\n        this.$refs[name].validate((valid) => {\n          if (valid) {\n            this.$Message.success('登录成功');\n          } else {\n            this.$Message.error('登录失败');\n          }\n        })\n      }\n    }\n  }\n</script>\n\n<style scoped>\n  .djDetail-head {\n    display: flex;\n    margin-bottom: 30px;\n  }\n  .djDetail-head img {\n    width: 250px;\n    height: 250px;\n    margin-right: 30px;\n  }\n  .djDetail-head div {\n    flex: 1;\n    color: #333333;\n  }\n  .djDetail-head div div {\n    font-size: 22px;\n    color: #000000;\n    margin-bottom: 10px;\n  }\n  .djDetail-head div p {\n    /*font-size: 12px;*/\n    padding-bottom: 15px;\n  }\n  .djDetail-head div span {\n    color: #5292fe;\n  }\n  .body-head{\n    height: 30px;\n    font-size: 18px;\n    border-bottom: 2px solid #e1e1e2;\n    margin-bottom: 20px;\n  }\n</style>","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./djDetail.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./djDetail.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./djDetail.vue?vue&type=template&id=56c77c8a&scoped=true&\"\nimport script from \"./djDetail.vue?vue&type=script&lang=js&\"\nexport * from \"./djDetail.vue?vue&type=script&lang=js&\"\nimport style0 from \"./djDetail.vue?vue&type=style&index=0&id=56c77c8a&scoped=true&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"56c77c8a\",\n  null\n  \n)\n\nexport default component.exports"],"sourceRoot":""}