{"version":3,"sources":["webpack:///./src/views/search/search.vue?bcdc","webpack:///src/views/search/search.vue","webpack:///./src/views/search/search.vue?10af","webpack:///./src/views/search/search.vue","webpack:///./node_modules/core-js/modules/es.function.name.js"],"names":["render","_vm","this","_h","$createElement","_c","_self","_v","staticStyle","_s","$route","query","name","searchSongs","length","attrs","columns1","data1","on","rowClick","style","position","bottom","left","width","ref","staticRenderFns","component","DESCRIPTORS","defineProperty","f","FunctionPrototype","Function","prototype","FunctionPrototypeToString","toString","nameRE","NAME","configurable","get","call","match","error"],"mappings":"yHAAA,IAAIA,EAAS,WAAa,IAAIC,EAAIC,KAASC,EAAGF,EAAIG,eAAmBC,EAAGJ,EAAIK,MAAMD,IAAIF,EAAG,OAAOE,EAAG,MAAM,CAACA,EAAG,IAAI,CAACJ,EAAIM,GAAG,MAAMF,EAAG,OAAO,CAACG,YAAY,CAAC,MAAQ,YAAY,CAACP,EAAIM,GAAG,IAAKN,EAAIQ,GAAGP,KAAKQ,OAAOC,MAAMC,MAAM,OAAQX,EAAIM,GAAG,KAAKN,EAAIQ,GAAGR,EAAIY,YAAYC,QAAQ,SAAST,EAAG,QAAQ,CAACU,MAAM,CAAC,QAAUd,EAAIe,SAAS,KAAOf,EAAIgB,OAAOC,GAAG,CAAC,eAAejB,EAAIkB,YAAYd,EAAG,QAAQ,CAACe,MAAM,CAAEC,SAAU,WAAYC,OAAQ,OAAOC,KAAM,EAAGC,MAAO,OAAQT,MAAM,CAAC,gBAAgB,KAAK,CAACd,EAAIM,GAAG,MAAMF,EAAG,QAAQ,CAACoB,IAAI,aAAa,IACtgBC,EAAkB,G,wBCWtB,GACE,KAAF,SACE,KAFF,WAGI,MAAJ,CACM,YAAN,GACM,SAAN,CACA,CACQ,MAAR,OACQ,IAAR,QAEA,CACQ,MAAR,KACQ,IAAR,WAEA,CACQ,MAAR,KACQ,IAAR,UAGM,MAAN,GACM,IAAN,GACM,WAAN,IAGE,QAxBF,WAwBI,IAAJ,OACI,OAAJ,OAAI,CAAJ,0CACM,GAAN,mBAEQ,EAAR,gCAEQ,IAAR,mCACU,EAAV,YACY,KAAZ,sBACY,QAAZ,iCACY,MAAZ,4BACY,GAAZ,2BAME,QAAF,CAEI,SAFJ,SAEA,KAAM,IAAN,OAEM,OAAN,OAAM,CAAN,wBACA,oBAEU,EAAV,uBACU,EAAV,sBACU,EAAV,yBACA,iBAEY,EAAZ,YACY,EAAZ,qBAGY,EAAZ,aACY,EAAZ,4BCtE+V,I,YCO3VC,EAAY,eACd,EACA3B,EACA0B,GACA,EACA,KACA,WACA,MAIa,aAAAC,E,8BClBf,IAAIC,EAAc,EAAQ,QACtBC,EAAiB,EAAQ,QAAuCC,EAEhEC,EAAoBC,SAASC,UAC7BC,EAA4BH,EAAkBI,SAC9CC,EAAS,wBACTC,EAAO,OAIPT,KAAiBS,KAAQN,IAC3BF,EAAeE,EAAmBM,EAAM,CACtCC,cAAc,EACdC,IAAK,WACH,IACE,OAAOL,EAA0BM,KAAKtC,MAAMuC,MAAML,GAAQ,GAC1D,MAAOM,GACP,MAAO","file":"js/chunk-7206a79f.9015f931.js","sourcesContent":["var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',[_c('p',[_vm._v(\"搜索\"),_c('span',{staticStyle:{\"color\":\"#5292fe\"}},[_vm._v(\"\\\"\"+_vm._s(this.$route.query.name)+\"\\\"\")]),_vm._v(\"找到\"+_vm._s(_vm.searchSongs.length)+\"首单曲\")]),_c('Table',{attrs:{\"columns\":_vm.columns1,\"data\":_vm.data1},on:{\"on-row-click\":_vm.rowClick}}),_c('Affix',{style:({position: 'absolute', bottom: '15px',left: 0, width: '98%'}),attrs:{\"offset-bottom\":20}},[_vm._v(\"> \"),_c('audio',{ref:\"audio\"})])],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n  <div>\n    <p>搜索<span style=\"color: #5292fe\">\"{{this.$route.query.name}}\"</span>找到{{searchSongs.length}}首单曲</p>\n    <Table :columns=\"columns1\" :data=\"data1\" @on-row-click=\"rowClick\"></Table>\n    <Affix :offset-bottom=\"20\" :style=\"{position: 'absolute', bottom: '15px',left: 0, width: '98%'}\">>\n      <audio ref=\"audio\"></audio>\n    </Affix>\n  </div>\n</template>\n\n<script>\n  import {getSearch, getSongURL} from '@/network/toplist'\n  export default {\n    name: \"search\",\n    data() {\n      return {\n        searchSongs: [],\n        columns1: [\n          {\n            title: '音乐标题',\n            key: 'name'\n          },\n          {\n            title: '歌手',\n            key: 'artists',\n          },\n          {\n            title: '专辑',\n            key: 'album'\n          }\n        ],\n        data1: [],\n        src: '',\n        editIndex: -1\n      }\n    },\n    created() {\n      getSearch(this.$route.query.name).then(res => {\n        if (res.data.code === 200) {\n          // console.log(res.data.result.songs);\n          this.searchSongs = res.data.result.songs\n          // console.log(this.searchSongs);\n          for (var i=0; i< this.searchSongs.length; i++) {\n            this.data1.push({\n              name: this.searchSongs[i].name,\n              artists: this.searchSongs[i].artists[0].name,\n              album: this.searchSongs[i].album.name,\n              id:  this.searchSongs[i].id\n            })\n          }\n        }\n      })\n    },\n    methods: {\n      // 单击歌曲列表某一行\n      rowClick(e,index) {\n        // console.log(index)\n        getSongURL(e.id).then(res => {\n          if (res.data.code === 200){\n            // console.log(res.data.data[0].url);\n            this.src = res.data.data[0].url\n            this.$refs.audio.src = this.src\n            this.$refs.audio.controls = true;\n            if (this.editIndex === -1) {\n              // 播放\n              this.editIndex = index;\n              this.$refs.audio.play()\n            } else {\n              // 暂停\n              this.editIndex = -1\n              this.$refs.audio.pause()\n            }\n          }\n        })\n        // this.$refs.audio.play()\n      },\n    }\n  }\n</script>\n\n<style scoped>\n\n</style>","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./search.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./search.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./search.vue?vue&type=template&id=2b4d083c&scoped=true&\"\nimport script from \"./search.vue?vue&type=script&lang=js&\"\nexport * from \"./search.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"2b4d083c\",\n  null\n  \n)\n\nexport default component.exports","var DESCRIPTORS = require('../internals/descriptors');\nvar defineProperty = require('../internals/object-define-property').f;\n\nvar FunctionPrototype = Function.prototype;\nvar FunctionPrototypeToString = FunctionPrototype.toString;\nvar nameRE = /^\\s*function ([^ (]*)/;\nvar NAME = 'name';\n\n// Function instances `.name` property\n// https://tc39.es/ecma262/#sec-function-instances-name\nif (DESCRIPTORS && !(NAME in FunctionPrototype)) {\n  defineProperty(FunctionPrototype, NAME, {\n    configurable: true,\n    get: function () {\n      try {\n        return FunctionPrototypeToString.call(this).match(nameRE)[1];\n      } catch (error) {\n        return '';\n      }\n    }\n  });\n}\n"],"sourceRoot":""}